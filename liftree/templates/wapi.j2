<!doctype html>
<html>
  <head>
  {% block head %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ meta.path|basename }}</title>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/fomantic-ui@2.7.2/dist/semantic.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/atom-one-light.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <style>
      .main.container {
        padding-top: 6em;
        padding-bottom: 2em;
      }
      #menu {
        _background-color: #F5F5F5;
      }
      #output {
        height: 70vh;
        overflow-y: scroll;
      }
      .ui.form textarea.cmdline,
      .cmdline {
        white-space: pre-wrap; 
        word-break: break-word;
        font-family: monospace;
        background-color: #fbf9eb;
      }
      .console {
        display: block;
        padding: 12px;
      }
      .selectall {
        margin-left: 1rem;
      }
      #menu input[type=text] {
        width: 150px;
        transition: width .35s ease-in-out;
      }
      #menu input[type=text]:focus {
        width: 300px;
      }
      #wapi_search_result {
        overflow-y: scroll;
        overflow-y: none;
        width: auto;
        max-height: 85vh;
      }
      #wapi_search_result a.result {
        white-space: nowrap;
      }
    </style>
  {% endblock %}
  </head>
  <body>
    {% include 'wapi/error.j2' %}
    <div id="menu" class="ui main _top fixed _inverted blue _secondary _tabular _pointing menu">
      <a class="item" href="https://github.com/vengaar/wapi">
        <i class="grey github icon"></i>wapi
      </a>
      <a class="item" href="/show">
        <i class="home icon"></i>wapi
      </a>
{% block menu %}
{% endblock %}
      <div class="right menu">
        <div class="ui right aligned category search item">
          <div class="ui _transparent icon input">
            <input class="prompt" type="text" placeholder="Search ...">
            <i class="search link icon"></i>
          </div>
          <div id="wapi_search_result" class="results"></div>
        </div>
        <a class="item" href="/show?path=/etc/wapi/wapi.yml"><i class="settings icon"></i>Wapi config</a>
      </div>
    </div>
    <div class="ui main container">
{% block body %}
{% endblock %}
    </div>
    <!-- scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/fomantic-ui@2.7.2/dist/semantic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-serialize-object/2.5.0/jquery.serialize-object.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/ansi_up@3.0.0/ansi_up.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
      'use strict'
      {% include 'wapi.js' %}
    </script>
    <script>
      'use strict'
      try {
{% block script %}
{% endblock %}
      } catch(error) {
        show_error(error)
      }
      {% include 'common.js' %}
    </script>
  </body>
</html>