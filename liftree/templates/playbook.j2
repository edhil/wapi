{% set wapi = extra.wapi %}
{% extends "wapi.j2" %}


{% block menu %}

<a class="item active" data-tab="doc"><i class="book icon"></i>Doc</a>
<a class="item" data-tab="code"><i class="code icon"></i>Code</a>
<a class="item" data-tab="play"><i class="play icon"></i>Launch</a>

{% endblock %}


{% block body %}
{#
DEBUG 
<pre><code>{{ wapi }}</code></pre>
<pre><code>{{ extra.git|to_yaml }}</code></pre>
#}

{# DOC #}
<div class="ui tab _segment active" data-tab="doc">
  {% include 'wapi/playbook/doc.j2' %}
</div>

{# CODE #}
<div class="ui tab _segment" data-tab="code">
  <h3 class="ui dividing header">
    <i class="code icon"></i>
    <div class="content">
      {{ meta.path }}
      <div class="sub header">Playbook code</div>
    </div>
  </h3>
  <pre class="ui segment"><code class="cmdline jinja">{{ data }}</code></pre>
</div>


{# PLAY #}
<div class="ui tab _segment" data-tab="play">
  {% include 'wapi/playbook/form.j2' %}
</div>

{% endblock %}


{% block script %}
{% if 'error' not in wapi.keys() %}
{% include 'wapi/playbook/playbook.js' %}
{% endif %}
{% endblock %}
